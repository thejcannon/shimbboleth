steps:
  - type: ~
    depends_on: scalar
  - type: ~
    depends_on:
      - string
  - type: ~
    depends_on:
      - step: step
  - type: ~
    depends_on:
      - step: step
        allow_failure: true
  # Mixed should work too
  - type: ~
    depends_on:
      - string
      - step: step
---
steps:
  - type: ~
    depends_on:
      - step: scalar
  - type: ~
    depends_on:
      - step: string
  - type: ~
    depends_on:
      - step: step
  - type: ~
    depends_on:
      - step: step
        allow_failure: true
  - type: ~
    depends_on:
      - step: string
      - step: step
